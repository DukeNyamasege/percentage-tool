<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover" />
<title>Binarytool Analysis Tool</title>
<link rel="stylesheet" type="text/css" href="styles/bootstrap.css">
<link rel="stylesheet" type="text/css" href="fonts/bootstrap-icons.css">
<link rel="stylesheet" type="text/css" href="styles/style.css">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="manifest" href="_manifest.json">
<meta id="theme-check" name="theme-color" content="#FFFFFF">
<link rel="apple-touch-icon" sizes="180x180" href="app/icons/icon-192x192.png">
<script>
            // Disable right-click
        document.addEventListener('contextmenu', (e) => e.preventDefault());

        function ctrlShiftKey(e, keyCode) {
        return e.ctrlKey && e.shiftKey && e.keyCode === keyCode.charCodeAt(0);
        }

        document.onkeydown = (e) => {
        // Disable F12, Ctrl + Shift + I, Ctrl + Shift + J, Ctrl + U
        if (
            event.keyCode === 123 ||
            ctrlShiftKey(e, 'I') ||
            ctrlShiftKey(e, 'J') ||
            ctrlShiftKey(e, 'C') ||
            (e.ctrlKey && e.keyCode === 'U'.charCodeAt(0))
        )
            return false;
        };
</script>
</head>

<body onload="changeMarket()">

<div id="page">
    <!-- Your Page Content Goes Here-->
    <div class="page-content header-clear-medium">
      <div class="content" id="page_content">
        <br>
          <div class="form-custom form-label form-icon mb-3">
            <i class="bi bi-bar-chart-fill font-13"></i>
            <select class="form-select rounded-xs" id="market" onchange="changeMarket()">
              <option value="R_10" selected>Volatility 10</option>
              <option value="1HZ10V">Volatility 10 (1s)</option>
              <option value="R_25">Volatility 25</option>
              <option value="1HZ25V">Volatility 25 (1s)</option>
              <option value="R_50">Volatility 50</option>
              <option value="1HZ50V">Volatility 50 (1s)</option>
              <option value="R_75">Volatility 75</option>
              <option value="1HZ75V">Volatility 75 (1s)</option>
              <option value="R_100">Volatility 100</option>
              <option value="1HZ100V">Volatility 100 (1s)</option>
              <option value="JD10">Jump Index 10</option>
              <option value="JD25">Jump Index 25</option>
              <option value="JD50">Jump Index 50</option>
              <option value="JD75">Jump Index 75</option>
              <option value="JD100">Jump Index 100</option>
              <option value="RDBEAR">Bear Market</option>
              <option value="RDBULL">Bull Market</option>
            </select>
            <label for="market" class="color-theme form-label-active">Select a Synthetic Market</label>
          </div>
          <div class="form-custom form-label form-icon mb-3">
            <i class="bi bi-bar-chart-fill font-13"></i>
            <select class="form-select rounded-xs" id="contract_type" onchange="changeContractType()">
              <option value="1">Rise/Fall</option>
              <option value="0" selected>Even/Odd</option>
              <option value="2">Over/Under</option>
              <option value="3">Differs/Matches</option>
            </select>
            <label for="market" class="color-theme form-label-active">Select Trade Type</label>
          </div>
          <div class="row mb-0" id="over_under" style="display:none;">
          <!-- <div class="row mb-0"> -->
      			<div class="col-6 pe-2">
      				<div class="form-custom form-label form-icon mb-3">
                <i class="bi bi-bar-chart-fill font-14"></i>
                <input type="number" class="form-control rounded-xs" id="over_input" step="1" value="4" min="0" max="9" oninput="over_under()" required />
                <label for="c1" class="color-theme form-label-active">Over</label>
                <span>(required)</span>
              </div>
      			</div>
      			<div class="col-6 ps-2">
      				<div class="form-custom form-label form-icon mb-3">
                <i class="bi bi-bar-chart-fill font-14"></i>
                <input type="number" class="form-control rounded-xs" id="under_input" step="1" value="5" min="0" max="9" oninput="over_under()" required />
                <label for="c1" class="color-theme form-label-active">Under</label>
                <span>(required)</span>
              </div>
      			</div>
      		</div>
          <div class="form-custom form-label form-icon mb-3">
            <i class="bi bi-bar-chart-fill font-14"></i>
            <input type="number" class="form-control rounded-xs" id="ticks" step="1" placeholder='No. of ticks to show' value="120" min="1" max="5000" required />
            <label for="c1" class="color-theme form-label-active">Number of Ticks</label>
            <span>(required)</span>
          </div>
        <h1 align="center">
          <b id="current" class="text-primary">0</b>
        </h1>
        <div class="row mb-0">
          <div id="last_ticks_row" style="display: none; text-align: center;"></div>
      </div>
      </div>
        <div class="row mb-0">
    			<div class="col-6 pe-0">
    					<div class="content pb-0">
    						<h3 align="center" id="even_label">0</h3>
    					</div>
    			</div>
    			<div class="col-6 ps-0">
    					<div class="content pb-0">
    						<h3 align="center" id="odd_label">0</h3>
    					</div>
    			</div>
    		</div>
        <div class="row mb-0">
          <div class="col-12">
              <div class="content pb-0">
                  <h3 align="center">Last 20 Digits Pattern</h3>
                  <div id="pattern_display" style="font-size: 20px; text-align: center;"></div>
              </div>
          </div>
      </div>
        <input type="hidden" id="even" value="0">
          <input type="hidden" id="odd" value="0">
          <input type="hidden" id="rise" value="0">
          <input type="hidden" id="fall" value="0">
          <input type="hidden" id="over" value="0">
          <input type="hidden" id="under" value="0">
        <input type="hidden" id="digit0" value="0">
        <input type="hidden" id="digit1" value="0">
        <input type="hidden" id="digit2" value="0">
        <input type="hidden" id="digit3" value="0">
        <input type="hidden" id="digit4" value="0">
        <input type="hidden" id="digit5" value="0">
        <input type="hidden" id="digit6" value="0">
        <input type="hidden" id="digit7" value="0">
        <input type="hidden" id="digit8" value="0">
        <input type="hidden" id="digit9" value="0">
          <input type="hidden" id="previous" value="0">
          <input type="hidden" id="subid" value="774cbfef-72c8-c8e4-42c5-189e941d2379">
          <input type="hidden" id="old_ticks" value="10">
          <input type="hidden" id="token" value="<?php echo $_SESSION['token']; ?>">
          <!-- CHARTS STARTS HERE -->
          <div class="body">
              <canvas id="myChart" width="400px"></canvas>
          </div>
          <div class="analysis-guide">
            <style>
                table {
                    border-collapse: collapse;
                    width: 100%;
                }
        
                th, td {
                    border: 1px solid black;
                    padding: 2px;
                    color: black;
                    font-weight: 900.;
                }
                
                h4 {
                    margin-top: 14px;
                    color: red;
                }

            </style>

<div class="analysis-container">
  <style>
      .analysis-container {
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          max-width: 1000px;
          margin: 0 auto;
          padding: 20px;
          display: flex;
          flex-wrap: wrap;
          gap: 20px;
      }
      
      .probability-guide {
          flex: 1;
          min-width: 400px;
          background: #f8f9fa;
          border-radius: 10px;
          padding: 20px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      
      .signal-panel {
          flex: 1;
          min-width: 400px;
          background: #fff;
          border-radius: 10px;
          padding: 20px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      
      .guide-title {
          text-align: center;
          font-size: 18px;
          color: #333;
          margin-bottom: 20px;
          font-weight: 600;
          padding-bottom: 10px;
          border-bottom: 1px solid #eee;
      }
      
      .probability-table {
          width: 100%;
          border-collapse: collapse;
          margin: 15px 0;
      }
      
      .probability-table th, 
      .probability-table td {
          padding: 10px;
          text-align: center;
          border: 1px solid #ddd;
      }
      
      .probability-table th {
          background-color: #343a40;
          color: white;
          font-weight: 600;
      }
      
      .probability-table tr:nth-child(even) {
          background-color: #f9f9f9;
      }
      
      .probability-table tr:hover {
          background-color: #f1f1f1;
      }
      
      .high-prob {
          color: #28a745;
          font-weight: 600;
      }
      
      .med-prob {
          color: #ffc107;
          font-weight: 600;
      }
      
      .low-prob {
          color: #dc3545;
          font-weight: 600;
      }
      
      /* Signal styles */
      .signal {
          padding: 12px;
          margin: 10px 0;
          border-radius: 5px;
          display: none;
          align-items: center;
          background: rgba(40, 167, 69, 0.1);
          border-left: 4px solid #28a745;
          animation: fadeIn 0.5s ease;
      }
      
      .signal.active {
          display: flex;
      }
      
      .signal-icon {
          margin-right: 12px;
          font-size: 20px;
          color: #28a745;
      }
      
      .signal-content {
          flex: 1;
      }
      
      .signal-title {
          font-weight: 700;
          color: #28a745;
          margin-bottom: 3px;
      }
      
      .signal-desc {
          font-size: 13px;
          color: #495057;
      }
      
      .no-signals {
          text-align: center;
          color: #6c757d;
          font-style: italic;
          padding: 20px;
      }
      
      @keyframes fadeIn {
          from { opacity: 0; transform: translateY(5px); }
          to { opacity: 1; transform: translateY(0); }
      }
      
      @keyframes pulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.02); }
          100% { transform: scale(1); }
      }
      
      .pulse {
          animation: pulse 1.5s infinite;
      }
      
      .highlight {
          background-color: rgba(40, 167, 69, 0.15) !important;
          box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.3);
      }
  </style>

  <!-- Probability Guide Table -->
  <div class="probability-guide">
      <div class="guide-title">Probability Guide Table</div>
      
      <table class="probability-table">
          <thead>
              <tr>
                  <th>Type</th>
                  <th>1</th>
                  <th>2</th>
                  <th>3</th>
                  <th>4</th>
                  <th>5</th>
                  <th>6</th>
                  <th>7</th>
                  <th>8</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td><strong>OVER</strong></td>
                  <td class="high-prob">90%</td>
                  <td class="high-prob">85%</td>
                  <td class="med-prob">70%</td>
                  <td class="med-prob">60%</td>
                  <td>55%</td>
                  <td class="low-prob">40%</td>
                  <td class="low-prob">30%</td>
                  <td class="low-prob">25%</td>
              </tr>
              <tr>
                  <td><strong>UNDER</strong></td>
                  <td class="low-prob">25%</td>
                  <td class="low-prob">30%</td>
                  <td class="low-prob">40%</td>
                  <td>55%</td>
                  <td class="med-prob">60%</td>
                  <td class="med-prob">70%</td>
                  <td class="high-prob">85%</td>
                  <td class="high-prob">90%</td>
              </tr>
          </tbody>
      </table>
      
      <table class="probability-table" style="margin-top: 25px;">
          <thead>
              <tr>
                  <th>Even</th>
                  <th>Odd</th>
                  <th>Rise</th>
                  <th>Fall</th>
              </tr>
          </thead>
          <tbody>
              <tr>
                  <td class="high-prob">65%</td>
                  <td class="high-prob">65%</td>
                  <td class="high-prob">65%</td>
                  <td class="high-prob">65%</td>
              </tr>
          </tbody>
      </table>
  </div>

  <!-- Signal Panel -->
  <div class="signal-panel">
      <div class="guide-title">Active Signals</div>
      
      <div class="no-signals" id="no-signals">No active signals detected</div>
      
      <!-- Over Signals -->
      <div class="signal" id="over-1-signal">
          <div class="signal-icon">✓</div>
          <div class="signal-content">
              <div class="signal-title">OVER 1 Signal</div>
              <div class="signal-desc">90% probability condition met</div>
          </div>
      </div>
      
      <div class="signal" id="over-2-signal">
          <div class="signal-icon">✓</div>
          <div class="signal-content">
              <div class="signal-title">OVER 2 Signal</div>
              <div class="signal-desc">85% probability condition met</div>
          </div>
      </div>
      
      <!-- Under Signals -->
      <div class="signal" id="under-7-signal">
          <div class="signal-icon">✓</div>
          <div class="signal-content">
              <div class="signal-title">UNDER 7 Signal</div>
              <div class="signal-desc">85% probability condition met</div>
          </div>
      </div>
      
      <div class="signal" id="under-8-signal">
          <div class="signal-icon">✓</div>
          <div class="signal-content">
              <div class="signal-title">UNDER 8 Signal</div>
              <div class="signal-desc">90% probability condition met</div>
          </div>
      </div>
      
      <!-- Indicator Signals -->
      <div class="signal" id="even-signal">
          <div class="signal-icon">✓</div>
          <div class="signal-content">
              <div class="signal-title">EVEN Signal</div>
              <div class="signal-desc">65% probability condition met</div>
          </div>
      </div>
  </div>

  <script>
      // Market condition thresholds
      const thresholds = {
          over: [90, 85, 70, 60, 55, 40, 30, 25],
          under: [25, 30, 40, 55, 60, 70, 85, 90],
          indicators: [65, 65, 65, 65] // even, odd, rise, fall
      };
      
      // Current market state (simulated)
      let marketState = {
          over: [false, false, false, false, false, false, false, false],
          under: [false, false, false, false, false, false, false, false],
          indicators: [false, false, false, false]
      };
      
      // DOM elements
      const noSignalsElement = document.getElementById('no-signals');
      const signalElements = {
          over: [
              document.getElementById('over-1-signal'),
              document.getElementById('over-2-signal'),
              null, null, null, null, null, null
          ],
          under: [
              null, null, null, null, null, null,
              document.getElementById('under-7-signal'),
              document.getElementById('under-8-signal')
          ],
          indicators: [
              document.getElementById('even-signal'),
              null, null, null
          ]
      };
      
      // Function to update signals
      function updateSignals() {
          let anySignalActive = false;
          
          // Check over conditions
          for (let i = 0; i < 8; i++) {
              if (signalElements.over[i] && marketState.over[i]) {
                  signalElements.over[i].classList.add('active', 'pulse');
                  anySignalActive = true;
              } else if (signalElements.over[i]) {
                  signalElements.over[i].classList.remove('active', 'pulse');
              }
          }
          
          // Check under conditions
          for (let i = 0; i < 8; i++) {
              if (signalElements.under[i] && marketState.under[i]) {
                  signalElements.under[i].classList.add('active', 'pulse');
                  anySignalActive = true;
              } else if (signalElements.under[i]) {
                  signalElements.under[i].classList.remove('active', 'pulse');
              }
          }
          
          // Check indicator conditions
          for (let i = 0; i < 4; i++) {
              if (signalElements.indicators[i] && marketState.indicators[i]) {
                  signalElements.indicators[i].classList.add('active', 'pulse');
                  anySignalActive = true;
              } else if (signalElements.indicators[i]) {
                  signalElements.indicators[i].classList.remove('active', 'pulse');
              }
          }
          
          // Toggle "no signals" message
          noSignalsElement.style.display = anySignalActive ? 'none' : 'block';
          
          // Update table highlights
          highlightTableCells();
      }
      
      // Highlight corresponding table cells
      function highlightTableCells() {
          // Clear all highlights first
          document.querySelectorAll('.probability-table td').forEach(td => {
              td.classList.remove('highlight');
          });
          
          // Highlight active signals
          if (marketState.over[0]) {
              document.querySelector('.probability-table tr:nth-child(1) td:nth-child(2)').classList.add('highlight');
          }
          if (marketState.over[1]) {
              document.querySelector('.probability-table tr:nth-child(1) td:nth-child(3)').classList.add('highlight');
          }
          if (marketState.under[6]) {
              document.querySelector('.probability-table tr:nth-child(2) td:nth-child(8)').classList.add('highlight');
          }
          if (marketState.under[7]) {
              document.querySelector('.probability-table tr:nth-child(2) td:nth-child(9)').classList.add('highlight');
          }
          if (marketState.indicators[0]) {
              document.querySelector('.probability-table:last-child td:nth-child(1)').classList.add('highlight');
          }
      }
      
      // Simulate market changes
      function simulateMarketChanges() {
          // Randomly activate some signals for demo
          marketState.over[0] = Math.random() > 0.5; // Over 1
          marketState.over[1] = Math.random() > 0.6; // Over 2
          marketState.under[6] = Math.random() > 0.5; // Under 7
          marketState.under[7] = Math.random() > 0.4; // Under 8
          marketState.indicators[0] = Math.random() > 0.5; // Even
          
          updateSignals();
      }
      
      // Initialize
      document.addEventListener('DOMContentLoaded', function() {
          // Run initial update
          simulateMarketChanges();
          
          // Simulate market changes every 3 seconds
          setInterval(simulateMarketChanges, 3000);
          
          // Add hover effects to table cells
          document.querySelectorAll('.probability-table td').forEach(td => {
              td.addEventListener('mouseenter', function() {
                  this.style.transform = 'scale(1.03)';
                  this.style.transition = 'transform 0.2s ease';
              });
              
              td.addEventListener('mouseleave', function() {
                  this.style.transform = 'scale(1)';
              });
          });
      });
  </script>
</div>
        
  			</div>
  		</div>

    </div>
    

</div>
<!--End of Page ID-->
<script src="scripts/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/appwrite@13.0.1"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
<script src="script.js?ver=1.1"></script>

</body>
